<!-- display.html -->
<html>
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>{{ title }}</title>
</head>
<body>
    <center>
        <h1 style="font-family: Gotham"> Spotify 'Wrapped' Clone</h1>

        <div class="toggle-container" style="margin-bottom: 32px; display: flex; justify-content: center; gap: 24px;">
            <button id="toggle-artists" class="login-big-btn toggle-btn active">Top Artists</button>
            <button id="toggle-songs" class="login-big-btn toggle-btn">Top Songs</button>
        </div>

        <div class="button-container" style="margin-bottom: 32px; display: flex; justify-content: center; gap: 24px;">
            <button class="login-big-btn time-frame-button" data-frame="short">Last 4 weeks</button>
            <button class="login-big-btn time-frame-button" data-frame="medium">Last 6 Months</button>
            <button class="login-big-btn time-frame-button" data-frame="long">Last 1 Year</button>
        </div>

        <div class="content-container">
            <div class="time-frame-content top-artists" data-frame="short">
                <h3 style="font-family: Gotham">Last 4 weeks - Top Artists</h3>
                <ol style="font-family: Gotham" class="centered-list">
                    {% for artist in user_top_artists %}
                    <li>{{ artist }}</li>
                    {% endfor %}
                </ol>
            </div>
            <div class="time-frame-content top-songs" data-frame="short" style="display:none;">
                <h3 style="font-family: Gotham">Last 4 weeks - Top Songs</h3>
                <ol style="font-family: Gotham" class="centered-list">
                    {% for song in user_top_songs %}
                    <li>{{ song }}</li>
                    {% endfor %}
                </ol>
            </div>

            <div class="time-frame-content top-artists" data-frame="medium" style="display: none;">
                <h3 style="font-family: Gotham">Last 6 Months - Top Artists</h3>
                <ol style="font-family: Gotham" class="centered-list">
                    {% for artist in user_top_artists_MEDIUM %}
                    <li>{{ artist }}</li>
                    {% endfor %}
                </ol>
            </div>
            <div class="time-frame-content top-songs" data-frame="medium" style="display:none;">
                <h3 style="font-family: Gotham">Last 6 Months - Top Songs</h3>
                <ol style="font-family: Gotham" class="centered-list">
                    {% for song in user_top_songs_MEDIUM %}
                    <li>{{ song }}</li>
                    {% endfor %}
                </ol>
            </div>

            <div class="time-frame-content top-artists" data-frame="long" style="display: none;">
                <h3 style="font-family: Gotham">Last 1 Year - Top Artists</h3>
                <ol style="font-family: Gotham" class="centered-list">
                    {% for artist in user_top_artists_LONG %}
                    <li>{{ artist }}</li>
                    {% endfor %}
                </ol>
            </div>
            <div class="time-frame-content top-songs" data-frame="long" style="display:none;">
                <h3 style="font-family: Gotham">Last 1 Year - Top Songs</h3>
                <ol style="font-family: Gotham" class="centered-list">
                    {% for song in user_top_songs_LONG %}
                    <li>{{ song }}</li>
                    {% endfor %}
                </ol>
            </div>
        </div>
        

    

    </center>

    <script>
        const timeFrameButtons = document.querySelectorAll('.time-frame-button');
        const artistToggle = document.getElementById('toggle-artists');
        const songToggle = document.getElementById('toggle-songs');
        let currentType = 'artists';

        function updateContentDisplay(frame) {
            document.querySelectorAll('.time-frame-content').forEach(content => {
                if (content.dataset.frame === frame && content.classList.contains(currentType === 'artists' ? 'top-artists' : 'top-songs')) {
                    content.style.display = 'block';
                } else {
                    content.style.display = 'none';
                }
            });
        }

        timeFrameButtons.forEach(button => {
            button.addEventListener('click', () => {
                timeFrameButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                const dataFrame = button.dataset.frame;
                updateContentDisplay(dataFrame);
            });
        });

        artistToggle.addEventListener('click', () => {
            currentType = 'artists';
            artistToggle.classList.add('active');
            songToggle.classList.remove('active');
            const activeFrame = document.querySelector('.time-frame-button.active')?.dataset.frame || 'short';
            updateContentDisplay(activeFrame);
        });

        songToggle.addEventListener('click', () => {
            currentType = 'songs';
            songToggle.classList.add('active');
            artistToggle.classList.remove('active');
            const activeFrame = document.querySelector('.time-frame-button.active')?.dataset.frame || 'short';
            updateContentDisplay(activeFrame);
        });

        // Set default active button and content
        timeFrameButtons[0].classList.add('active');
        updateContentDisplay('short');
    </script>
</body>
</html>